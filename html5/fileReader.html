<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>fileReader</title>
</head>
<body>
    <input type="file"/>
    <img src=""/>
    <script>
        let inp = document.getElementsByTagName('input')[0],
            img = document.getElementsByTagName('img')[0],
            reader = new FileReader();
        inp.onchange = function(){
            // console.log(inp.files[0]);
            reader.onloadstart = function(){
                console.log('start')
            }
            reader.onprogress = function(){
                console.log('progress')
            }
            reader.onloadend = function(){
                console.log('end')
            }
            reader.onload = function(){
                console.log('onload')
                img.src = this.result
            }
            reader.readAsDataURL(inp.files[0])
        }

        // fileReader 方法：
        // abort() 终止读取
        // readAsBinaryString(file) 将文件读取为二进制编码
        // readAsDataURL(file) 将文件读取为DataURL编码
        // readAsText(file,[encoding]) 将文件读取为文本
        // readAsArrayBuffer(file) 将文件读取为 arrayBuffer
        // 通过不同方式读取文件

        // 监听文件读取中的事件：
        // onloadstart 读取开始时触发
        // onprogress 读取中
        // onloadend 读取完成触发，无论成功或失败
        // onload 文件读取成功时触发
        // onabort 中断时触发
        // onerror 出错时触发


    </script>
</body>
</html>