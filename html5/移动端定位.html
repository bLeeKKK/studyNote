<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>移动端定位</title>
</head>
<body>
    <script>
        // geolocation 获取地理地理位置消息

        // geolocation.getCurrentPosition (s,e,p) // 获取当前位置消息
        // s：success 回调（必须）
        // e: error 回调
        // p：options 参数

        // geolocation.watchPosition (s,e,p)  // 监视位置变化
        // geolocation.clearWatch(id)         // 清理位置监听

        // 例：
        // let watcher = window.navigator.geolocation.getCurrentPosition(
        let watcher = window.navigator.geolocation.watchPosition(
                (e)=>{console.log('success',e)},
                (e)=>{console.log('error',e)},
                { // 配置项
                    timeout: 1000, //超时时间
                    enableHighAccuracy: true, //是否高精度位置默认 false
                    maximumAge: 100 //在浏览器中存储定位消息一段时间，默认为0 单位 ms 
                }
            ) //创建监听
        window.navigator.geolocation.clearWatch( watcher ); // 清理位置监听






        // devicemotion 监听（陀螺仪的）加速度变化 ( 设备的各种消息 ) 
        // 摇晃手机触发
        window.addEventListener('devicemotion',function(event){
            console.log(event);
        })








        // deviceorientation 监听设备在某个方向上的变化
        // alpha （阿尔法） 沿 z 轴的旋转角度，范围 0 ~ 360 正北0。
        // beta （贝塔） 沿 x 轴的旋转角度，范围-180 ~ 180 。它描述的是设备由前向后旋转的情况。
        // gamma （伽马） 沿 y 轴的旋转角度，范围-90 ~ 90 。它描述的是设备由左向右旋转的情况。

        // ios 独有
        // webkitCompassHeading
        // webkitCompassAccuracy
        window.addEventListener('deviceorientation', function(event){
            console.log(event);
        })
    </script>
</body>
</html>